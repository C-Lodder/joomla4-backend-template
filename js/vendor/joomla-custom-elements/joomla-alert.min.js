window.customElements.define("joomla-alert",class extends HTMLElement{static get observedAttributes(){return["type","role","dismiss"]}get type(){return this.getAttribute("type")}set type(t){return this.setAttribute("type",t)}get role(){return this.getAttribute("role")}set role(t){return this.setAttribute("role",t)}get dismiss(){return this.getAttribute("dismiss")}get autodismiss(){return this.getAttribute("auto-dismiss")}connectedCallback(){this.classList.add("joomla-alert--show"),this.type&&-1!==["info","warning","danger","success"].indexOf(this.type)||this.setAttribute("type","info"),"success"===this.type?this.setAttribute("role","status"):-1===["alert","alertdialog"].indexOf(this.role)&&this.setAttribute("role","alert"),(this.hasAttribute("dismiss")||!this.querySelector("button.joomla-alert--close")&&!this.querySelector("button.joomla-alert-button--close"))&&this.appendCloseButton(),(this.hasAttribute("auto-dismiss")||this.hasAttribute("dismiss"))&&"success"===this.type&&this.autoDismiss(),this.dispatchCustomEvent("joomla.alert.show")}disconnectedCallback(){this.removeEventListener("joomla.alert.show",this),this.removeEventListener("joomla.alert.close",this),this.removeEventListener("joomla.alert.closed",this),this.firstChild.tagName&&"button"===this.firstChild.tagName.toLowerCase()&&this.firstChild.removeEventListener("click",this)}close(){this.dispatchCustomEvent("joomla.alert.close"),this.addEventListener("transitionend",()=>{this.dispatchCustomEvent("joomla.alert.closed"),this.remove()},!1),this.classList.remove("joomla-alert--show")}dispatchCustomEvent(t){const e=new CustomEvent(t);e.relatedTarget=this,this.dispatchEvent(e),this.removeEventListener(t,this)}appendCloseButton(){if(this.querySelector("button.joomla-alert--close")||this.querySelector("button.joomla-alert-button--close"))return;const t=document.createElement("button");this.hasAttribute("dismiss")&&(t.classList.add("joomla-alert--close"),t.innerHTML='<span aria-hidden="true">&times</span>',t.setAttribute("aria-label",this.getText("JCLOSE","Close"))),this.firstChild?this.insertBefore(t,this.firstChild):this.appendChild(t),t&&t.addEventListener("click",()=>{this.close()})}autoDismiss(){window.setTimeout(()=>{this.close()},parseInt(this.getAttribute("auto-dismiss"),10)?this.getAttribute("auto-dismiss"):5e3)}getText(t,e){return window.Joomla&&Joomla.JText&&Joomla.JText._&&"function"==typeof Joomla.JText._&&Joomla.JText._(t)?Joomla.JText._(t):e}});