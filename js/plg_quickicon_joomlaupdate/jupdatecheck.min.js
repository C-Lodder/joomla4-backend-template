((e,a)=>{"use strict";const s=()=>{if(a.getOptions("js-extensions-update")){const s=a.getOptions("js-joomla-update"),n=(a,s)=>{const n=e.getElementById("plg_quickicon_joomlaupdate"),t=[].slice.call(n.querySelectorAll("span.j-links-link"));n&&n.classList.add(a),t.length&&t.forEach(e=>{e.innerHTML=s})};a.request({url:s.ajaxUrl,method:"GET",data:"",perform:!0,onSuccess:t=>{const o=JSON.parse(t);if(Array.isArray(o))if(0===o.length)n("success",a.Text._("PLG_QUICKICON_JOOMLAUPDATE_UPTODATE"));else{const t=o.shift();t.version!==s.version?(n("danger",a.Text._("PLG_QUICKICON_JOOMLAUPDATE_UPDATEFOUND").replace("%s",`<span class="badge badge-light"> ‎ ${t.version}</span>`)),(s=>{const n=`<div id="joomlaUpdateModal" class="modal hide fade in" aria-modal="true" role="dialog">\n      <div class="modal-dialog modal-dialog-centered">\n        <div class="modal-content">\n          <div class="modal-header">\n            <h4 class="modal-title">${a.Text._("PLG_QUICKICON_JOOMLAUPDATE_UPDATEFOUND").replace("%s",`<span class="badge badge-danger"> ‎ ${s}</span>`)}</h4>\n            <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n              <span aria-hidden="true">&times;</span>\n            </button>\n          </div>\n          <div class="modal-footer">\n            <a href="index.php?option=com_joomlaupdate" class="btn btn-success">Update Now!</a>\n          </div>\n        </div>\n      </div>\n    </div>`,t=e.createElement("div");t.innerHTML=n,e.body.append(t)})(t.version)):n("success",a.Text._("PLG_QUICKICON_JOOMLAUPDATE_UPTODATE"))}else n("danger",a.Text._("PLG_QUICKICON_JOOMLAUPDATE_ERROR"))},onError:()=>{n("danger",a.Text._("PLG_QUICKICON_JOOMLAUPDATE_ERROR"))}})}},n=()=>{if(!a||"function"!=typeof a.getOptions||!a.getOptions("js-joomla-update"))throw new Error("Script is not properly initialised");setTimeout(s,2e3),e.removeEventListener("DOMContentLoaded",n)};e.addEventListener("DOMContentLoaded",n)})(document,Joomla);