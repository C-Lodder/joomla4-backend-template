((e,s)=>{"use strict";const n=()=>{if(s.getOptions("js-extensions-update")){const n=s.getOptions("js-joomla-update"),a=(s,n)=>{const a=e.getElementById("plg_quickicon_joomlaupdate"),t=[].slice.call(a.querySelectorAll("span.j-links-link"));a&&a.classList.add(s),t.length&&t.forEach(e=>{e.innerHTML=n})};s.request({url:n.ajaxUrl,method:"GET",data:"",perform:!0,onSuccess:t=>{const o=JSON.parse(t);if(Array.isArray(o))if(0===o.length)a("success",s.Text._("PLG_QUICKICON_JOOMLAUPDATE_UPTODATE"));else{const t=o.shift();t.version!==n.version?(a("danger",s.Text._("PLG_QUICKICON_JOOMLAUPDATE_UPDATEFOUND").replace("%s",`<span class="badge badge-light"> ‎ ${t.version}</span>`)),(n=>{const a=`<div id="joomlaUpdateModal" class="modal hide fade in">\n      <div class="modal-dialog modal-dialog-centered">\n        <div class="modal-content">\n          <div class="modal-header">\n            <h4 class="modal-title">${s.Text._("PLG_QUICKICON_JOOMLAUPDATE_UPDATEFOUND").replace("%s",`<span class="badge badge-danger"> ‎ ${n}</span>`)}</h4>\n            <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n              <span aria-hidden="true">&times;</span>\n            </button>\n          </div>\n          <div class="modal-footer">\n            <a href="index.php?option=com_joomlaupdate" class="btn btn-success">Update Now!</a>\n          </div>\n        </div>\n      </div>\n    </div>`,t=e.createElement("div");t.innerHTML=a,e.body.append(t)})(t.version)):a("success",s.Text._("PLG_QUICKICON_JOOMLAUPDATE_UPTODATE"))}else a("danger",s.Text._("PLG_QUICKICON_JOOMLAUPDATE_ERROR"))},onError:()=>{a("danger",s.Text._("PLG_QUICKICON_JOOMLAUPDATE_ERROR"))}})}},a=()=>{if(!s||"function"!=typeof s.getOptions||!s.getOptions("js-joomla-update"))throw new Error("Script is not properly initialised");setTimeout(n,2e3),e.removeEventListener("DOMContentLoaded",a)};e.addEventListener("DOMContentLoaded",a)})(document,Joomla);